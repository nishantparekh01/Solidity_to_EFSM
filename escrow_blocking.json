{"absolutePath":"escrow_blocking.sol","exportedSymbols":{"Escrow":[89]},"id":90,"license":"GPL-3.0","nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity",">=","0.5",".0","<","0.9",".0"],"nodeType":"PragmaDirective","src":"36:31:0"},{"abstract":false,"baseContracts":[],"canonicalName":"Escrow","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"id":89,"linearizedBaseContracts":[89],"name":"Escrow","nameLocation":"80:6:0","nodeType":"ContractDefinition","nodes":[{"canonicalName":"Escrow.State","id":5,"members":[{"id":2,"name":"AWAITING_PAYMENT","nameLocation":"107:16:0","nodeType":"EnumValue","src":"107:16:0"},{"id":3,"name":"AWAITING_DELIVERY","nameLocation":"125:17:0","nodeType":"EnumValue","src":"125:17:0"},{"id":4,"name":"COMPLETE","nameLocation":"144:8:0","nodeType":"EnumValue","src":"144:8:0"}],"name":"State","nameLocation":"99:5:0","nodeType":"EnumDefinition","src":"94:60:0"},{"constant":false,"functionSelector":"afe01043","id":8,"mutability":"mutable","name":"currState","nameLocation":"179:9:0","nodeType":"VariableDeclaration","scope":89,"src":"166:22:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_State_$5","typeString":"enum Escrow.State"},"typeName":{"id":7,"nodeType":"UserDefinedTypeName","pathNode":{"id":6,"name":"State","nameLocations":["166:5:0"],"nodeType":"IdentifierPath","referencedDeclaration":5,"src":"166:5:0"},"referencedDeclaration":5,"src":"166:5:0","typeDescriptions":{"typeIdentifier":"t_enum$_State_$5","typeString":"enum Escrow.State"}},"visibility":"public"},{"constant":false,"functionSelector":"7150d8ae","id":10,"mutability":"mutable","name":"buyer","nameLocation":"216:5:0","nodeType":"VariableDeclaration","scope":89,"src":"201:20:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":9,"name":"address","nodeType":"ElementaryTypeName","src":"201:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"constant":false,"functionSelector":"08551a53","id":12,"mutability":"mutable","name":"seller","nameLocation":"251:6:0","nodeType":"VariableDeclaration","scope":89,"src":"228:29:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"},"typeName":{"id":11,"name":"address","nodeType":"ElementaryTypeName","src":"228:15:0","stateMutability":"payable","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"visibility":"public"},{"body":{"id":23,"nodeType":"Block","src":"291:94:0","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":18,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":15,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"310:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":16,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"314:6:0","memberName":"sender","nodeType":"MemberAccess","src":"310:10:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":17,"name":"buyer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10,"src":"324:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"310:19:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4f6e6c792062757965722063616e2063616c6c2074686973206d6574686f64","id":19,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"331:33:0","typeDescriptions":{"typeIdentifier":"t_stringliteral_406a78bc14f59c87e2e051ea2953b27df380e45200133d3402d5473199147b2a","typeString":"literal_string \"Only buyer can call this method\""},"value":"Only buyer can call this method"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_406a78bc14f59c87e2e051ea2953b27df380e45200133d3402d5473199147b2a","typeString":"literal_string \"Only buyer can call this method\""}],"id":14,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"302:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":20,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"302:63:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":21,"nodeType":"ExpressionStatement","src":"302:63:0"},{"id":22,"nodeType":"PlaceholderStatement","src":"376:1:0"}]},"id":24,"name":"onlyBuyer","nameLocation":"279:9:0","nodeType":"ModifierDefinition","parameters":{"id":13,"nodeType":"ParameterList","parameters":[],"src":"288:2:0"},"src":"270:115:0","virtual":false,"visibility":"internal"},{"body":{"id":39,"nodeType":"Block","src":"457:60:0","statements":[{"expression":{"id":33,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":31,"name":"buyer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10,"src":"468:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":32,"name":"_buyer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":26,"src":"476:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"468:14:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":34,"nodeType":"ExpressionStatement","src":"468:14:0"},{"expression":{"id":37,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":35,"name":"seller","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12,"src":"493:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":36,"name":"_seller","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":28,"src":"502:7:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"493:16:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"id":38,"nodeType":"ExpressionStatement","src":"493:16:0"}]},"id":40,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","nodeType":"FunctionDefinition","parameters":{"id":29,"nodeType":"ParameterList","parameters":[{"constant":false,"id":26,"mutability":"mutable","name":"_buyer","nameLocation":"417:6:0","nodeType":"VariableDeclaration","scope":40,"src":"409:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":25,"name":"address","nodeType":"ElementaryTypeName","src":"409:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":28,"mutability":"mutable","name":"_seller","nameLocation":"441:7:0","nodeType":"VariableDeclaration","scope":40,"src":"425:23:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"},"typeName":{"id":27,"name":"address","nodeType":"ElementaryTypeName","src":"425:15:0","stateMutability":"payable","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"visibility":"internal"}],"src":"408:41:0"},"returnParameters":{"id":30,"nodeType":"ParameterList","parameters":[],"src":"457:0:0"},"scope":89,"src":"397:120:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"body":{"id":58,"nodeType":"Block","src":"575:125:0","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_enum$_State_$5","typeString":"enum Escrow.State"},"id":49,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46,"name":"currState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8,"src":"594:9:0","typeDescriptions":{"typeIdentifier":"t_enum$_State_$5","typeString":"enum Escrow.State"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":47,"name":"State","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5,"src":"607:5:0","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_State_$5_$","typeString":"type(enum Escrow.State)"}},"id":48,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"613:16:0","memberName":"AWAITING_PAYMENT","nodeType":"MemberAccess","referencedDeclaration":2,"src":"607:22:0","typeDescriptions":{"typeIdentifier":"t_enum$_State_$5","typeString":"enum Escrow.State"}},"src":"594:35:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"416c72656164792070616964","id":50,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"631:14:0","typeDescriptions":{"typeIdentifier":"t_stringliteral_474d1993e25fd6c83b5d92c4ae0a1fd61e7d76dc9f0b842c9af93bd592649aa2","typeString":"literal_string \"Already paid\""},"value":"Already paid"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_474d1993e25fd6c83b5d92c4ae0a1fd61e7d76dc9f0b842c9af93bd592649aa2","typeString":"literal_string \"Already paid\""}],"id":45,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"586:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":51,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"586:60:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52,"nodeType":"ExpressionStatement","src":"586:60:0"},{"expression":{"id":56,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53,"name":"currState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8,"src":"657:9:0","typeDescriptions":{"typeIdentifier":"t_enum$_State_$5","typeString":"enum Escrow.State"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":54,"name":"State","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5,"src":"669:5:0","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_State_$5_$","typeString":"type(enum Escrow.State)"}},"id":55,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"675:17:0","memberName":"AWAITING_DELIVERY","nodeType":"MemberAccess","referencedDeclaration":3,"src":"669:23:0","typeDescriptions":{"typeIdentifier":"t_enum$_State_$5","typeString":"enum Escrow.State"}},"src":"657:35:0","typeDescriptions":{"typeIdentifier":"t_enum$_State_$5","typeString":"enum Escrow.State"}},"id":57,"nodeType":"ExpressionStatement","src":"657:35:0"}]},"functionSelector":"d0e30db0","id":59,"implemented":true,"kind":"function","modifiers":[{"id":43,"kind":"modifierInvocation","modifierName":{"id":42,"name":"onlyBuyer","nameLocations":["548:9:0"],"nodeType":"IdentifierPath","referencedDeclaration":24,"src":"548:9:0"},"nodeType":"ModifierInvocation","src":"548:9:0"}],"name":"deposit","nameLocation":"538:7:0","nodeType":"FunctionDefinition","parameters":{"id":41,"nodeType":"ParameterList","parameters":[],"src":"545:2:0"},"returnParameters":{"id":44,"nodeType":"ParameterList","parameters":[],"src":"575:0:0"},"scope":89,"src":"529:171:0","stateMutability":"payable","virtual":false,"visibility":"external"},{"body":{"id":87,"nodeType":"Block","src":"758:177:0","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_enum$_State_$5","typeString":"enum Escrow.State"},"id":68,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":65,"name":"currState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8,"src":"777:9:0","typeDescriptions":{"typeIdentifier":"t_enum$_State_$5","typeString":"enum Escrow.State"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":66,"name":"State","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5,"src":"790:5:0","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_State_$5_$","typeString":"type(enum Escrow.State)"}},"id":67,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"796:17:0","memberName":"AWAITING_DELIVERY","nodeType":"MemberAccess","referencedDeclaration":3,"src":"790:23:0","typeDescriptions":{"typeIdentifier":"t_enum$_State_$5","typeString":"enum Escrow.State"}},"src":"777:36:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"43616e6e6f7420636f6e6669726d2064656c6976657279","id":69,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"815:25:0","typeDescriptions":{"typeIdentifier":"t_stringliteral_4c14069b73374852da34d17b525e461b4af36e3c50719be543d17787b4ca8732","typeString":"literal_string \"Cannot confirm delivery\""},"value":"Cannot confirm delivery"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_4c14069b73374852da34d17b525e461b4af36e3c50719be543d17787b4ca8732","typeString":"literal_string \"Cannot confirm delivery\""}],"id":64,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"769:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":70,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"769:72:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":71,"nodeType":"ExpressionStatement","src":"769:72:0"},{"expression":{"arguments":[{"expression":{"arguments":[{"id":77,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"876:4:0","typeDescriptions":{"typeIdentifier":"t_contract$_Escrow_$89","typeString":"contract Escrow"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_Escrow_$89","typeString":"contract Escrow"}],"id":76,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"868:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":75,"name":"address","nodeType":"ElementaryTypeName","src":"868:7:0","typeDescriptions":{}}},"id":78,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"868:13:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":79,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"882:7:0","memberName":"balance","nodeType":"MemberAccess","src":"868:21:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":72,"name":"seller","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12,"src":"852:6:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"id":74,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"859:8:0","memberName":"transfer","nodeType":"MemberAccess","src":"852:15:0","typeDescriptions":{"typeIdentifier":"t_function_transfer_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":80,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"852:38:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":81,"nodeType":"ExpressionStatement","src":"852:38:0"},{"expression":{"id":85,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":82,"name":"currState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8,"src":"901:9:0","typeDescriptions":{"typeIdentifier":"t_enum$_State_$5","typeString":"enum Escrow.State"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":83,"name":"State","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5,"src":"913:5:0","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_State_$5_$","typeString":"type(enum Escrow.State)"}},"id":84,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"919:8:0","memberName":"COMPLETE","nodeType":"MemberAccess","referencedDeclaration":4,"src":"913:14:0","typeDescriptions":{"typeIdentifier":"t_enum$_State_$5","typeString":"enum Escrow.State"}},"src":"901:26:0","typeDescriptions":{"typeIdentifier":"t_enum$_State_$5","typeString":"enum Escrow.State"}},"id":86,"nodeType":"ExpressionStatement","src":"901:26:0"}]},"functionSelector":"5e10177b","id":88,"implemented":true,"kind":"function","modifiers":[{"id":62,"kind":"modifierInvocation","modifierName":{"id":61,"name":"onlyBuyer","nameLocations":["739:9:0"],"nodeType":"IdentifierPath","referencedDeclaration":24,"src":"739:9:0"},"nodeType":"ModifierInvocation","src":"739:9:0"}],"name":"confirmDelivery","nameLocation":"721:15:0","nodeType":"FunctionDefinition","parameters":{"id":60,"nodeType":"ParameterList","parameters":[],"src":"736:2:0"},"returnParameters":{"id":63,"nodeType":"ParameterList","parameters":[],"src":"758:0:0"},"scope":89,"src":"712:223:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"scope":90,"src":"71:867:0","usedErrors":[]}],"src":"36:902:0"}